<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Game</title>
    <!-- T·∫£i font Unbounded v√† Poppins t·ª´ Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Reset CSS c∆° b·∫£n */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Body - N·ªÅn trang t·ªïng th·ªÉ */
        body {
            font-family: 'Poppins', sans-serif; /* Font m·∫∑c ƒë·ªãnh cho body */
            background: #ffffff; /* M√†u n·ªÅn tr·∫Øng tinh theo y√™u c·∫ßu */
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden; /* NgƒÉn cu·ªôn ngang */
        }

        /* Game Container - Khung ch·ª©a to√†n b·ªô game */
        .game-container {
            max-width: 1290px;
            width: 100%;
            background-color: #fff7ed; /* M√†u n·ªÅn ch√≠nh */
            /* Th√™m h·ªça ti·∫øt k·∫ª √¥ ly v·ªü */
            background-image: linear-gradient(to right, #f0f0f0 1px, transparent 1px),
                              linear-gradient(to bottom, #f0f0f0 1px, transparent 1px);
            background-size: 20px 20px; /* K√≠ch th∆∞·ªõc c·ªßa m·ªói √¥ k·∫ª */
            border: 4px solid #ff83aa; /* Vi·ªÅn m·ªõi theo y√™u c·∫ßu */
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15); /* ƒê·ªï b√≥ng nh·∫π nh√†ng h∆°n */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Game Title - Ti√™u ƒë·ªÅ tr√≤ ch∆°i */
        .game-title {
            text-align: center;
            margin-bottom: 40px; /* Kho·∫£ng c√°ch l·ªõn h∆°n */
            letter-spacing: 2px; /* Gi√£n ch·ªØ */
            line-height: 1.2; /* Gi·∫£m kho·∫£ng c√°ch d√≤ng */
        }
        .game-title .wakodo-text {
            font-family: 'Unbounded', sans-serif; /* Font ƒë·∫∑c tr∆∞ng */
            font-size: 2.8rem; /* K√≠ch th∆∞·ªõc l·ªõn h∆°n */
            color: #ff508e; /* M√†u h·ªìng theo y√™u c·∫ßu */
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.2); /* ƒê·ªï b√≥ng nh·∫π h∆°n cho text */
            display: block; /* ƒê·∫£m b·∫£o xu·ªëng d√≤ng */
        }
        .game-title .memory-game-text {
            font-family: 'Poppins', sans-serif; /* Font Poppins */
            font-weight: 700; /* Bold */
            font-size: 1.8rem; /* K√≠ch th∆∞·ªõc nh·ªè h∆°n */
            color: #644138; /* M√†u n√¢u theo y√™u c·∫ßu */
            display: block; /* ƒê·∫£m b·∫£o xu·ªëng d√≤ng */
        }

        /* Game Board - B·∫£ng ch·ª©a c√°c th·∫ª b√†i */
        .game-board {
            position: relative;
            width: 100%;
            max-width: 850px; /* TƒÉng k√≠ch th∆∞·ªõc t·ªëi ƒëa m·ªôt ch√∫t */
            margin: 0 auto;
            aspect-ratio: 4/2; /* Gi·ªØ t·ª∑ l·ªá khung h√¨nh */
            /* Background image m·ªõi theo y√™u c·∫ßu */
            background-image: url('https://i.ibb.co/CpRHHCtM/Untitled-7.jpg'); /* C·∫≠p nh·∫≠t URL h√¨nh ·∫£nh */
            background-size: contain; /* ƒê·∫£m b·∫£o h√¨nh ·∫£nh n·∫±m tr·ªçn v·∫πn */
            background-repeat: no-repeat; /* Kh√¥ng l·∫∑p l·∫°i h√¨nh ·∫£nh */
            background-position: center; /* CƒÉn gi·ªØa h√¨nh ·∫£nh */
            background-color: #fff7ed; /* M√†u n·ªÅn ƒë·ªÉ l·∫•p ƒë·∫ßy kho·∫£ng tr·ªëng */
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2); /* ƒê·ªï b√≥ng r√µ h∆°n */
        }

        /* Overlay - L·ªõp ph·ªß m·ªù */
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6); /* M·ªù h∆°n m·ªôt ch√∫t */
            transition: opacity 0.5s ease; /* Chuy·ªÉn ƒë·ªông m∆∞·ª£t h∆°n */
            z-index: 1;
        }
        .overlay.revealed {
            opacity: 0;
        }

        /* Cards Grid - L∆∞·ªõi th·∫ª b√†i */
        .cards-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 15px; /* Kho·∫£ng c√°ch gi·ªØa c√°c th·∫ª b√†i */
            padding: 15px; /* Padding cho l∆∞·ªõi */
            z-index: 2;
        }

        /* Card - Th·∫ª b√†i */
        .card {
            background: linear-gradient(to bottom right, #ff508e, #ff83aa); /* Gradient m·∫∑c ƒë·ªãnh khi ch∆∞a l·∫≠t */
            border-radius: 12px; /* Bo tr√≤n h∆°n */
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* ƒê·ªï b√≥ng nh·∫π */
            position: relative;
            overflow: hidden;
        }
        .card:hover {
            transform: translateY(-5px) scale(1.02); /* Hi·ªáu ·ª©ng hover r√µ h∆°n */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        /* Khi th·∫ª ƒë∆∞·ª£c l·∫≠t, lo·∫°i b·ªè gradient ƒë·ªÉ m√†u n·ªÅn hi·ªÉn th·ªã */
        .card.flipped {
            background-image: none !important; 
        }
        /* C√°c l·ªõp m√†u khi th·∫ª ƒë∆∞·ª£c l·∫≠t */
        .card.flipped.color-khong-chat-bao-quan { background-color: #84cdd3 !important; } /* Kh√¥ng ch·∫•t b·∫£o qu·∫£n */
        .card.flipped.color-khong-huong-lieu { background-color: #f5e2a0 !important; }   /* Kh√¥ng h∆∞∆°ng li·ªáu */
        .card.flipped.color-phat-trien-nhai { background-color: #f88ca3 !important; }    /* Ph√°t tri·ªÉn nhai */
        .card.flipped.color-khong-tao-mau { background-color: #bfbae3 !important; }      /* Kh√¥ng t·∫°o m√†u */

        .card.matched {
            animation: fadeOut 0.6s ease-in-out forwards; /* Animation d√†i h∆°n m·ªôt ch√∫t */
        }
        @keyframes fadeOut {
            0% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                transform: scale(1.05); /* Ph√≥ng to nh·∫π tr∆∞·ªõc khi bi·∫øn m·∫•t */
            }
            100% {
                opacity: 0;
                transform: scale(0);
            }
        }

        /* Card Text - N·ªôi dung ch·ªØ tr√™n th·∫ª b√†i */
        .card-text {
            color: white; /* M√†u tr·∫Øng cho text khi l·∫≠t */
            font-family: 'Poppins', sans-serif; /* Font Poppins */
            font-weight: 700;
            text-align: center;
            padding: 10px; /* Gi·∫£m padding ƒë·ªÉ ch·ªØ g·ªçn h∆°n */
            font-size: 1.6rem; /* K√≠ch th∆∞·ªõc ch·ªØ */
            line-height: 1.3;
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            letter-spacing: 1.5px; /* Gi√£n ch·ªØ nh·∫π */
            text-transform: uppercase;
        }
        .card.flipped .card-text {
            opacity: 1;
        }

        /* Card Back - Icon m·∫∑t sau th·∫ª b√†i */
        .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.3s ease;
        }
        .card-back svg {
            width: 40%; /* K√≠ch th∆∞·ªõc SVG theo t·ª∑ l·ªá c·ªßa th·∫ª b√†i */
            height: 40%;
            max-width: 60px; /* Gi·ªõi h·∫°n k√≠ch th∆∞·ªõc t·ªëi ƒëa */
            max-height: 60px;
            fill: white; /* M√†u icon tr·∫Øng */
        }
        .card.flipped .card-back {
            opacity: 0;
        }

        /* Victory Message - Box ch√∫c m·ª´ng */
        .victory-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #f8f5ee; /* M√†u n·ªÅn m·ªõi theo y√™u c·∫ßu */
            color: #644138; /* M√†u text m·ªõi theo y√™u c·∫ßu */
            padding: 25px 40px; /* Gi·∫£m padding d·ªçc, tƒÉng padding ngang ƒë·ªÉ box ng·∫Øn v√† d√†i h∆°n */
            border-radius: 25px; /* Bo tr√≤n h∆°n */
            text-align: center;
            font-size: 1.5rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4); /* ƒê·ªï b√≥ng m·∫°nh h∆°n */
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease-out; /* Chuy·ªÉn ƒë·ªông m∆∞·ª£t v√† nhanh h∆°n */
            display: flex;
            flex-direction: column; /* Stack children vertically */
            align-items: center; /* Center children horizontally */
            gap: 15px; /* Kho·∫£ng c√°ch gi·ªØa c√°c ph·∫ßn t·ª≠ */
            max-width: 700px; /* TƒÉng chi·ªÅu r·ªông t·ªëi ƒëa cho box */
            width: 90%; /* ƒê·∫£m b·∫£o responsive */
        }
        .victory-message.show {
            opacity: 1;
            visibility: visible;
        }
        /* Ti√™u ƒë·ªÅ "Ch√∫c m·ª´ng!" */
        .victory-message .victory-title {
            font-family: 'Unbounded', sans-serif; /* Font ƒë·∫∑c tr∆∞ng */
            font-size: 1.5rem; /* K√≠ch th∆∞·ªõc nh·ªè h∆°n theo y√™u c·∫ßu */
            color: #ff508e; /* M√†u h·ªìng theo y√™u c·∫ßu */
            margin-bottom: 15px; /* Kho·∫£ng c√°ch d∆∞·ªõi ti√™u ƒë·ªÅ */
            white-space: nowrap; /* ƒê·∫£m b·∫£o tr√™n m·ªôt h√†ng */
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1); /* ƒê·ªï b√≥ng nh·∫π h∆°n */
        }
        /* Wrapper cho n·ªôi dung ngang trong victory message */
        .victory-content-wrapper {
            display: flex;
            flex-direction: row; /* Hi·ªÉn th·ªã ngang */
            align-items: center;
            gap: 25px; /* Kho·∫£ng c√°ch gi·ªØa ·∫£nh v√† text */
            flex-wrap: wrap; /* Cho ph√©p xu·ªëng d√≤ng tr√™n m√†n h√¨nh nh·ªè */
            justify-content: center; /* CƒÉn gi·ªØa khi xu·ªëng d√≤ng */
            width: 100%; /* ƒê·∫£m b·∫£o chi·∫øm ƒë·ªß chi·ªÅu r·ªông */
        }
        .victory-message img {
            max-width: 100px; /* K√≠ch th∆∞·ªõc h√¨nh h·ªôp qu√† */
            height: auto;
            flex-shrink: 0; /* NgƒÉn ·∫£nh b·ªã co l·∫°i */
        }
        .victory-text-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: flex-start; /* CƒÉn tr√°i text trong ph·∫ßn n·ªôi dung */
            text-align: left; /* CƒÉn tr√°i text trong ph·∫ßn n·ªôi dung */
        }
        .victory-message p {
            font-family: 'Poppins', sans-serif; /* Font Poppins */
            font-weight: 400; /* Regular */
            font-size: 1.1rem; /* K√≠ch th∆∞·ªõc ch·ªØ */
            line-height: 1.5;
            margin-bottom: 0; /* B·ªè margin bottom ƒë·ªÉ n√∫t n·∫±m s√°t h∆°n */
            color: #644138; /* ƒê·∫£m b·∫£o m√†u text */
        }
        .confirm-button {
            background-color: #a6e1e3; /* M√†u m·ªõi theo y√™u c·∫ßu */
            color: white; /* Text m√†u tr·∫Øng */
            font-family: 'Poppins', sans-serif; /* Font Poppins */
            font-weight: 600; /* SemiBold */
            font-size: 1.2rem; /* K√≠ch th∆∞·ªõc ch·ªØ */
            padding: 15px 35px; /* TƒÉng padding */
            border: none;
            border-radius: 9999px; /* Bo tr√≤n t·ªëi ƒëa theo y√™u c·∫ßu */
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0px 3px 0px #5bc9cb; /* Shadow m·ªõi theo y√™u c·∫ßu */
            margin-top: 20px; /* Kho·∫£ng c√°ch t·ª´ n·ªôi dung ph√≠a tr√™n */
            white-space: nowrap; /* ƒê·∫£m b·∫£o ch·ªØ tr√™n m·ªôt h√†ng */
        }
        .confirm-button:hover {
            background-color: #8cd0d2; /* M√†u ƒë·∫≠m h∆°n khi hover */
            transform: translateY(-3px); /* Nh·∫•c nh·∫π l√™n */
            box-shadow: 0px 6px 0px #5bc9cb; /* Shadow tƒÉng khi hover */
        }

        /* Form Styles */
        .registration-form-container {
            max-width: 1000px; /* Gi·ªõi h·∫°n chi·ªÅu r·ªông c·ªßa form, l√†m cho n√≥ ngang h∆°n */
            width: 100%;
            background-color: #fff7ed;
            border: 4px solid #ff83aa;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px; /* Kho·∫£ng c√°ch gi·ªØa c√°c ph·∫ßn t·ª≠ trong form */
        }

        /* Flex container for rows with two fields */
        .form-row {
            display: flex;
            gap: 20px; /* Kho·∫£ng c√°ch gi·ªØa c√°c c·ªôt */
            width: 100%;
            margin-bottom: 15px; /* Kho·∫£ng c√°ch gi·ªØa c√°c h√†ng */
        }

        .form-group {
            width: 100%; /* M·∫∑c ƒë·ªãnh cho full width */
            text-align: left;
        }

        .form-group.half-width {
            flex: 1; /* Chia ƒë·ªÅu chi·ªÅu r·ªông trong form-row */
        }

        .form-group.full-width {
            width: 100%; /* ƒê·∫£m b·∫£o chi·∫øm to√†n b·ªô chi·ªÅu r·ªông */
        }

        .form-group label {
            display: block;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            color: #644138;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .form-group input[type="text"],
        .form-group input[type="tel"],
        .form-group input[type="email"],
        .form-group textarea,
        .form-group select { /* Th√™m select v√†o ƒë√¢y */
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ff83aa; /* Vi·ªÅn h·ªìng */
            border-radius: 10px; /* Bo tr√≤n */
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            color: #644138;
            background-color: #ffffff; /* N·ªÅn tr·∫Øng cho input */
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus { /* Th√™m select v√†o ƒë√¢y */
            outline: none;
            border-color: #ff508e; /* M√†u h·ªìng ƒë·∫≠m khi focus */
            box-shadow: 0 0 0 3px rgba(255, 80, 142, 0.2); /* Shadow nh·∫π khi focus */
        }

        .form-group textarea {
            resize: vertical; /* Cho ph√©p resize theo chi·ªÅu d·ªçc */
            min-height: 50px; /* R√∫t ng·∫Øn chi·ªÅu d·ªçc */
        }
        
        /* Custom arrow for select box */
        .form-group select {
            appearance: none; /* Remove default select arrow */
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%20viewBox%3D%220%200%20292.4%20292.4%22%3E%3Cpath%20fill%3D%22%23ff508e%22%20d%3D%22M287%20197.6l-14.4-14.4c-2.4-2.4-5.6-3.6-8.8-3.6s-6.4%201.2-8.8%203.6L146.2%20259.2%2047.4%20160.4c-2.4-2.4-5.6-3.6-8.8-3.6s-6.4%201.2-8.8%203.6L15.4%20172c-2.4%202.4-3.6%205.6-3.6%208.8s1.2%206.4%203.6%208.8l128%20128c2.4%202.4%205.6%203.6%208.8%203.6s6.4-1.2%208.8-3.6l128-128c2.4-2.4%203.6-5.6%203.6-8.8s-1.2-6.4-3.6-8.8z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 12px;
            padding-right: 35px; /* Make space for the custom arrow */
        }


        .checkbox-group {
            width: 100%;
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .checkbox-group input[type="checkbox"] {
            margin-right: 10px;
            margin-top: 4px; /* CƒÉn ch·ªânh v·ªõi text */
            min-width: 18px; /* ƒê·∫£m b·∫£o k√≠ch th∆∞·ªõc ƒë·ªß l·ªõn ƒë·ªÉ click */
            min-height: 18px;
            accent-color: #ff508e; /* M√†u h·ªìng cho checkbox */
        }

        .checkbox-group label {
            font-family: 'Poppins', sans-serif;
            color: #644138;
            font-size: 0.9rem;
            line-height: 1.4;
            cursor: pointer;
        }

        .start-game-button {
            background-color: #ff508e; /* M√†u h·ªìng */
            color: white;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1.4rem; /* K√≠ch th∆∞·ªõc l·ªõn h∆°n */
            padding: 18px 45px; /* Padding l·ªõn h∆°n */
            border: none;
            border-radius: 9999px; /* Bo tr√≤n t·ªëi ƒëa */
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0px 4px 0px #cc4071; /* Shadow m√†u h·ªìng ƒë·∫≠m h∆°n */
            white-space: nowrap;
            opacity: 0.6; /* M·ªù khi disable */
            pointer-events: none; /* V√¥ hi·ªáu h√≥a click khi disable */
        }

        .start-game-button.enabled {
            opacity: 1; /* R√µ khi enable */
            pointer-events: auto; /* K√≠ch ho·∫°t click khi enable */
        }

        .start-game-button:hover.enabled {
            background-color: #e0407a; /* M√†u h·ªìng ƒë·∫≠m h∆°n khi hover */
            transform: translateY(-3px); /* Nh·∫•c nh·∫π l√™n */
            box-shadow: 0px 7px 0px #cc4071; /* Shadow tƒÉng khi hover */
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            .game-container, .registration-form-container {
                padding: 20px;
                border-radius: 15px;
            }
            .game-title .wakodo-text {
                font-size: 2rem;
            }
            .game-title .memory-game-text {
                font-size: 1.4rem;
            }
            .cards-grid {
                gap: 10px;
                padding: 10px;
            }
            .card-text {
                font-size: 1.2rem;
                padding: 8px;
                letter-spacing: 1px;
            }
            .card-back svg {
                width: 35%; /* ƒêi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc icon tr√™n mobile */
                height: 35%;
                max-width: 50px;
                max-height: 50px;
            }
            .victory-message {
                padding: 25px;
                font-size: 1.1rem;
                border-radius: 20px;
                gap: 10px;
            }
            .victory-message .victory-title {
                font-size: 1.3rem; /* Nh·ªè h∆°n tr√™n mobile */
                margin-bottom: 10px;
            }
            .victory-message p {
                font-size: 0.95rem;
                line-height: 1.4;
                margin-bottom: 15px;
            }
            .victory-message img {
                max-width: 80px; /* Nh·ªè h∆°n tr√™n mobile */
                margin-bottom: 10px;
            }
            /* Tr√™n mobile, x·∫øp ch·ªìng n·ªôi dung victory message */
            .victory-content-wrapper {
                flex-direction: column;
                gap: 15px;
            }
            .victory-text-content {
                align-items: center; /* CƒÉn gi·ªØa l·∫°i text tr√™n mobile */
                text-align: center;
            }
            .confirm-button, .start-game-button {
                font-size: 1rem;
                padding: 12px 25px;
                border-radius: 8px;
            }

            /* Form Mobile Adjustments */
            .registration-form-container {
                padding: 20px;
            }
            .form-row {
                flex-direction: column; /* Stack vertically on mobile */
                gap: 0; /* Remove gap between stacked items */
            }
            .form-group.half-width {
                width: 100%; /* Full width on mobile */
            }
            .form-group label {
                font-size: 0.9rem;
            }
            .form-group input,
            .form-group textarea,
            .form-group select {
                padding: 10px 12px;
                font-size: 0.9rem;
            }
            .checkbox-group label {
                font-size: 0.8rem;
            }
        }
        @media (max-width: 480px) {
            .game-container, .registration-form-container {
                padding: 15px;
            }
            .game-title .wakodo-text {
                font-size: 1.6rem;
            }
            .game-title .memory-game-text {
                font-size: 1.1rem;
            }
            .cards-grid {
                gap: 6px;
                padding: 6px;
            }
            .card-text {
                font-size: 0.9rem;
                padding: 5px;
                letter-spacing: 0.8px;
            }
            .card-back svg {
                width: 30%; /* ƒêi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc icon tr√™n mobile nh·ªè h∆°n */
                height: 30%;
                max-width: 40px;
                max-height: 40px;
            }
            .victory-message {
                padding: 20px;
                font-size: 1rem;
            }
            .victory-message .victory-title {
                font-size: 1.1rem; /* Nh·ªè h∆°n n·ªØa tr√™n mobile */
            }
            .victory-message p {
                font-size: 0.85rem;
            }
            .victory-message img {
                max-width: 60px; /* Nh·ªè h∆°n n·ªØa tr√™n mobile */
            }
            .confirm-button, .start-game-button {
                font-size: 0.9rem;
                padding: 10px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Registration Form Container -->
    <div class="registration-form-container" id="registrationFormContainer">
        <h1 class="game-title">
            <span class="wakodo-text">WAKODO</span>
            <span class="memory-game-text">ƒêƒÇNG K√ù TH√îNG TIN</span>
        </h1>
        <form id="registrationForm">
            <div class="form-row">
                <div class="form-group half-width">
                    <label for="fullName">H·ªç v√† T√™n <span style="color: red;">*</span></label>
                    <input type="text" id="fullName" name="fullName" required>
                </div>
                <div class="form-group half-width">
                    <label for="phoneNumber">S·ªë ƒëi·ªán tho·∫°i <span style="color: red;">*</span></label>
                    <input type="tel" id="phoneNumber" name="phoneNumber" required pattern="[0-9]{10,11}" title="S·ªë ƒëi·ªán tho·∫°i ph·∫£i c√≥ 10 ho·∫∑c 11 ch·ªØ s·ªë.">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group half-width">
                    <label for="email">Email <span style="color: red;">*</span></label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group half-width">
                    <label for="childAge">ƒê·ªô tu·ªïi con b·∫°n</label>
                    <select id="childAge" name="childAge">
                        <option value="">Ch·ªçn ƒë·ªô tu·ªïi</option>
                        <option value="6-months">6 th√°ng</option>
                        <option value="7-8-months">7-8 th√°ng</option>
                        <option value="9-10-months">9-10 th√°ng</option>
                        <option value="12-18-months">12-18 th√°ng</option>
                    </select>
                </div>
            </div>
            <div class="form-group full-width">
                <label for="shippingAddress">ƒê·ªãa ch·ªâ nh·∫≠n qu√† <span style="color: red;">*</span></label>
                <textarea id="shippingAddress" name="shippingAddress" rows="3" required></textarea>
            </div>
            <div class="checkbox-group">
                <input type="checkbox" id="privacyConsent" name="privacyConsent" required>
                <label for="privacyConsent">Ch√∫ng t√¥i cam k·∫øt s·∫Ω ƒë·∫£m b·∫£o th√¥ng tin c·ªßa ng∆∞·ªùi ch∆°i.</label>
            </div>
            <button type="submit" class="start-game-button" id="startGameButton">B·∫Øt ƒë·∫ßu tr√≤ ch∆°i</button>
        </form>
    </div>

    <!-- Game Container (initially hidden) -->
    <div class="game-container" id="gameContainer" style="display: none;">
        <h1 class="game-title">
            <span class="wakodo-text">WAKODO</span>
            <span class="memory-game-text">MEMORY GAME</span>
        </h1>
        <div class="game-board">
            <div class="overlay" id="overlay"></div>
            <div class="cards-grid" id="cardsGrid"></div>
        </div>
    </div>

    <!-- Victory Message -->
    <div class="victory-message" id="victoryMessage">
        <h2 class="victory-title">üéâ Ch√∫c m·ª´ng!</h2>
        <div class="victory-content-wrapper">
            <img src="https://placehold.co/150x150/ffffff/644138?text=Gift+Box" alt="H·ªôp qu√†" class="gift-box-image">
            <div class="victory-text-content">
                <p>Ch√∫c m·ª´ng b·∫°n ƒë√£ ho√†n th√†nh tr√≤ ch∆°i v√† nh·∫≠n ƒë∆∞·ª£c ph·∫ßn qu√† t·ª´ WAKODO, ch√∫ng t√¥i s·∫Ω li√™n l·∫°c v·ªõi b·∫°n ƒë·ªÉ x√°c nh·∫≠n th√¥ng tin nh·∫≠n qu√† qua Zalo</p>
            </div>
        </div>
        <button class="confirm-button" id="confirmButton">X√°c nh·∫≠n</button>
    </div>

    <script>
        const cardTexts = [
            "Kh√¥ng ch·∫•t b·∫£o qu·∫£n",
            "Kh√¥ng h∆∞∆°ng li·ªáu", 
            "Ph√°t tri·ªÉn nhai",
            "Kh√¥ng t·∫°o m√†u"
        ];

        // Define Japanese pastel colors and their corresponding CSS class names
        const japanesePastelColors = {
            "Kh√¥ng ch·∫•t b·∫£o qu·∫£n": { hex: "#84cdd3", className: "color-khong-chat-bao-quan" },
            "Kh√¥ng h∆∞∆°ng li·ªáu": { hex: "#f5e2a0", className: "color-khong-huong-lieu" },
            "Ph√°t tri·ªÉn nhai": { hex: "#f88ca3", className: "color-phat-trien-nhai" },
            "Kh√¥ng t·∫°o m√†u": { hex: "#bfbae3", className: "color-khong-tao-mau" }
        };

        let gameState = {
            cards: [],
            flippedCards: [],
            matchedPairs: 0,
            isGameActive: false
        };

        // Updated SVG for the baby face icon
        const babyFaceSvg = `
            <svg viewBox="0 0 122.88 109.15" fill="white">
                <g>
                    <path d="M60.11,36.27c-1.18,0.67-2.68,0.26-3.35-0.93c-0.67-1.18-0.26-2.68,0.93-3.35c2.45-1.39,4.67-2.88,6.55-4.52 c1.79-1.56,3.25-3.25,4.27-5.08c0.25-0.45,0.46-0.89,0.65-1.33c1.2-2.8,1.48-5.82,0.76-8.52c-0.7-2.6-2.35-4.91-5.05-6.4 c-0.36-0.2-0.73-0.38-1.1-0.54c-0.99-0.43-1.94-0.65-2.85-0.68c-0.9-0.03-1.79,0.12-2.66,0.45c-2.02,0.75-3.58,2.08-4.56,3.61 c-0.56,0.87-0.92,1.81-1.06,2.73c-0.13,0.87-0.07,1.71,0.2,2.45c0.31,0.84,0.92,1.61,1.87,2.22c0.56,0.36,1.3,0.53,2.24,0.52 c1.16-0.02,2.57-0.33,4.25-0.95c1.28-0.46,2.69,0.2,3.15,1.47c0.46,1.28-0.2,2.69-1.47,3.15c-2.19,0.8-4.13,1.21-5.86,1.24 c-1.94,0.03-3.6-0.4-4.98-1.29c-1.89-1.21-3.14-2.83-3.81-4.65c-0.58-1.57-0.73-3.25-0.47-4.9c0.24-1.6,0.86-3.19,1.8-4.66 c1.52-2.37,3.91-4.41,6.99-5.55c1.48-0.55,2.99-0.81,4.53-0.75c1.54,0.05,3.08,0.4,4.62,1.07c0.55,0.24,1.07,0.49,1.55,0.75 c3.96,2.19,6.41,5.6,7.44,9.45c1.01,3.76,0.64,7.92-0.99,11.72c-0.26,0.61-0.55,1.2-0.86,1.77c-1.32,2.39-3.14,4.51-5.35,6.43 C65.36,33.04,62.87,34.72,60.11,36.27L60.11,36.27z M42.05,79.05c-0.83-0.87-0.79-2.24,0.08-3.07c0.87-0.83,2.24-0.79,3.07,0.08 c5.92,6.22,11.76,8.92,17.51,8.71c5.83-0.21,11.77-3.36,17.78-8.82c0.89-0.81,2.26-0.74,3.07,0.14c0.81,0.89,0.74,2.26-0.14,3.07 c-6.76,6.14-13.61,9.7-20.55,9.94C55.84,89.35,48.9,86.25,42.05,79.05L42.05,79.05z M45.25,48.75c3.56,0,6.45,2.89,6.45,6.45 c0,3.56-2.89,6.45-6.45,6.45c-3.56,0-6.45-2.89-6.45-6.45C38.8,51.64,41.69,48.75,45.25,48.75L45.25,48.75z M80.14,48.75 c3.56,0,6.45,2.89,6.45,6.45c0,3.56-2.89,6.45-6.45,6.45c-3.56,0-6.45-2.89-6.45-6.45C73.69,51.64,76.58,48.75,80.14,48.75 L80.14,48.75z M81.05,29.8c-1.21-0.54-1.76-1.98-1.24-3.22c0.52-1.24,1.92-1.82,3.13-1.28c5.99,2.68,11.28,6.43,15.55,10.97 c3.72,3.95,6.68,8.51,8.69,13.48l0.16-0.04c0.87-0.19,1.76-0.29,2.65-0.29c3.55,0,6.77,1.49,9.11,3.9c2.33,2.41,3.77,5.73,3.77,9.39c0,3.66-1.44,6.98-3.77,9.39c-2.34,2.41-5.56,3.9-9.11,3.9c-0.46,0-0.92-0.03-1.38-0.08 c-2.62,9.29-8.48,17.4-16.42,23.27c-8.39,6.21-19.1,9.93-30.76,9.93c-11.65,0-22.37-3.73-30.76-9.93 c-7.94-5.88-13.8-13.98-16.42-23.27c-0.46,0.05-0.92,0.08-1.38,0.08c-3.55,0-6.77-1.49-9.11-3.9C1.44,69.71,0,66.39,0,62.72 c0-3.66,1.44-6.98,3.77-9.39c2.34-2.41,5.56-3.9,9.11-3.9c0.89,0,1.78,0.1,2.65,0.29l0.16,0.04c2.01-4.98,4.97-9.53,8.69-13.48 c4.28-4.55,9.57-8.3,15.55-10.97c1.21-0.54,2.61,0.04,3.13,1.28c0.52,1.24-0.04,2.69-1.24,3.22c-5.4,2.41-10.17,5.8-14.02,9.9 c-3.76,4-6.65,8.67-8.39,13.79c-0.03,0.11-0.07,0.21-0.11,0.31c-0.53,1.24-1.94,1.81-3.14,1.26c-0.52-0.23-1.05-0.41-1.59-0.53 c-0.52-0.11-1.09-0.17-1.68-0.17c-2.25,0-4.27,0.93-5.73,2.44c-1.47,1.51-2.37,3.61-2.37,5.93c0,2.32,0.91,4.41,2.37,5.93 c1.46,1.51,3.49,2.44,5.73,2.44c0.42,0,0.83-0.03,1.23-0.09c0.43-0.07,0.83-0.16,1.19-0.28l0,0c0.06-0.02,0.12-0.03,0.18-0.05 c1.28-0.3,2.56,0.53,2.85,1.86c1.98,9.07,7.46,17.03,15.14,22.7c7.59,5.62,17.34,8.99,27.98,8.99c10.64,0,20.38-3.37,27.98-8.99 c7.66-5.67,13.14-13.62,15.13-22.67c0.01-0.07,0.03-0.14,0.05-0.21c0.39-1.3,1.72-2.02,2.98-1.63c0.37,0.12,0.76,0.21,1.19,0.28 c0.39,0.06,0.8,0.09,1.23,0.09c2.25,0,4.27-0.93,5.73-2.44c1.47-1.51,2.37-3.61-2.37-5.93c0-2.32-0.91-4.41-2.37-5.93 c-1.46-1.51-3.49-2.44-5.73-2.44c-0.6,0-1.16,0.06-1.68,0.17c-0.54,0.12-1.07,0.3-1.59,0.53l0,0c-0.06,0.03-0.12,0.05-0.18,0.07 c-1.24,0.45-2.6-0.23-3.03-1.51c-1.74-5.17-4.65-9.89-8.44-13.92C91.21,35.6,86.45,32.21,81.05,29.8L81.05,29.8z"/>
                </g>
            </svg>
        `;

        function initGame() {
            const cardsGrid = document.getElementById('cardsGrid');
            const overlay = document.getElementById('overlay');
                        
            // T·∫°o m·∫£ng cards v·ªõi m·ªói text xu·∫•t hi·ªán 2 l·∫ßn
            const cardData = [...cardTexts, ...cardTexts];
                        
            // Tr·ªôn cards
            gameState.cards = shuffleArray(cardData);
                        
            // T·∫°o HTML cho cards
            cardsGrid.innerHTML = '';
            gameState.cards.forEach((text, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.dataset.index = index;
                card.dataset.text = text;
                // G√°n l·ªõp m√†u t∆∞∆°ng ·ª©ng v·ªõi text c·ªßa th·∫ª
                card.dataset.colorClass = japanesePastelColors[text].className;

                // S·ª≠ d·ª•ng SVG icon m·ªõi v√† m√†u tr·∫Øng
                card.innerHTML = `
                    <div class="card-back">${babyFaceSvg}</div>
                    <div class="card-text">${text}</div>
                `;
                card.addEventListener('click', () => flipCard(index));
                cardsGrid.appendChild(card);
            });

            // Reset game state
            gameState.flippedCards = [];
            gameState.matchedPairs = 0;
            gameState.isGameActive = false;
                        
            // Reset overlay
            overlay.classList.remove('revealed');
                        
            // Reset UI
            document.getElementById('victoryMessage').classList.remove('show');
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function flipCard(index) {
            if (!gameState.isGameActive) {
                gameState.isGameActive = true;
            }
            const card = document.querySelector(`[data-index="${index}"]`);
                        
            // Ki·ªÉm tra xem card c√≥ th·ªÉ flip kh√¥ng
            if (card.classList.contains('flipped') || 
                card.classList.contains('matched') || 
                gameState.flippedCards.length >= 2) {
                return;
            }

            // Flip card: th√™m l·ªõp 'flipped' v√† l·ªõp m√†u
            card.classList.add('flipped');
            card.classList.add(card.dataset.colorClass); // Th√™m l·ªõp m√†u v√†o th·∫ª
            gameState.flippedCards.push(index);

            // Ki·ªÉm tra match khi c√≥ 2 cards ƒë∆∞·ª£c flip
            if (gameState.flippedCards.length === 2) {
                setTimeout(() => {
                    checkMatch();
                }, 1000);
            }
        }

        function checkMatch() {
            const [index1, index2] = gameState.flippedCards;
            const card1 = document.querySelector(`[data-index="${index1}"]`);
            const card2 = document.querySelector(`[data-index="${index2}"]`);
                        
            if (gameState.cards[index1] === gameState.cards[index2]) {
                // Match found
                card1.classList.add('matched');
                card2.classList.add('matched');
                gameState.matchedPairs++;
                                
                // Ki·ªÉm tra victory
                if (gameState.matchedPairs === 4) {
                    setTimeout(() => {
                        showVictory();
                    }, 500);
                }
            } else {
                // No match: lo·∫°i b·ªè l·ªõp 'flipped' v√† l·ªõp m√†u
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
                card1.classList.remove(card1.dataset.colorClass); // Lo·∫°i b·ªè l·ªõp m√†u
                card2.classList.remove(card2.dataset.colorClass); // Lo·∫°i b·ªè l·ªõp m√†u
            }
                        
            gameState.flippedCards = [];
            updateOverlay();
        }

        function updateOverlay() {
            const overlay = document.getElementById('overlay');
            const revealPercent = (gameState.matchedPairs / 4) * 100;
                        
            if (revealPercent === 100) {
                overlay.classList.add('revealed');
            } else {
                overlay.style.opacity = 1 - (revealPercent / 100) * 0.7;
            }
        }

        function showVictory() {
            document.getElementById('victoryMessage').classList.add('show');
            // Kh√¥ng t·ª± ƒë·ªông ·∫©n n·ªØa, ch·ªù ng∆∞·ªùi d√πng nh·∫•n n√∫t X√°c nh·∫≠n
        }

        function resetGame() {
            initGame();
        }

        // --- Form Logic ---
        const registrationFormContainer = document.getElementById('registrationFormContainer');
        const registrationForm = document.getElementById('registrationForm');
        const startGameButton = document.getElementById('startGameButton');
        const gameContainer = document.getElementById('gameContainer');
        // Select all required inputs, textareas, and the select box
        const formInputs = registrationForm.querySelectorAll('input[required], textarea[required], select'); 
        const privacyConsentCheckbox = document.getElementById('privacyConsent');

        function checkFormValidity() {
            let allRequiredFilled = true;
            formInputs.forEach(input => {
                if (input.tagName === 'SELECT') {
                    // For select, check if a non-empty option is selected
                    if (input.value === '') { 
                        allRequiredFilled = false;
                    }
                } else if (!input.value.trim()) {
                    allRequiredFilled = false;
                }
            });

            // Validate phone number specifically
            const phoneNumberInput = document.getElementById('phoneNumber');
            const phonePattern = /^[0-9]{10,11}$/;
            if (!phonePattern.test(phoneNumberInput.value.trim())) {
                allRequiredFilled = false;
            }

            if (allRequiredFilled && privacyConsentCheckbox.checked) {
                startGameButton.classList.add('enabled');
            } else {
                startGameButton.classList.remove('enabled');
            }
        }

        // Add event listeners for input changes to enable/disable button
        formInputs.forEach(input => {
            input.addEventListener('input', checkFormValidity);
            // For select, 'change' event is more appropriate
            if (input.tagName === 'SELECT') {
                input.addEventListener('change', checkFormValidity);
            }
        });
        privacyConsentCheckbox.addEventListener('change', checkFormValidity);

        registrationForm.addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            // Re-check validity on submit for final check
            checkFormValidity(); 
            if (!startGameButton.classList.contains('enabled')) {
                // If button is not enabled, means form is not valid
                console.log("Form is not valid. Please fill all required fields and accept the privacy policy.");
                return;
            }

            // Collect form data
            const formData = {
                fullName: document.getElementById('fullName').value,
                phoneNumber: document.getElementById('phoneNumber').value,
                email: document.getElementById('email').value,
                childAge: document.getElementById('childAge').value,
                shippingAddress: document.getElementById('shippingAddress').value,
                privacyConsent: privacyConsentCheckbox.checked
            };

            console.log("Form Data:", formData);

            // Hide form and show game
            registrationFormContainer.style.display = 'none';
            gameContainer.style.display = 'flex';
            initGame(); // Initialize the game after form submission
        });

        // X·ª≠ l√Ω s·ª± ki·ªán click cho n√∫t X√°c nh·∫≠n (trong victory message)
        document.getElementById('confirmButton').addEventListener('click', function() {
            document.getElementById('victoryMessage').classList.remove('show');
            // C√≥ th·ªÉ th√™m logic ƒëi·ªÅu h∆∞·ªõng ho·∫∑c g·ª≠i th√¥ng tin t·∫°i ƒë√¢y
            // V√≠ d·ª•: window.location.href = 'https://zalo.me/your_zalo_id';
            console.log("N√∫t X√°c nh·∫≠n ƒë√£ ƒë∆∞·ª£c nh·∫•n!");
            // Optional: Reset game and show form again for new player
            // gameContainer.style.display = 'none';
            // registrationFormContainer.style.display = 'flex';
            // registrationForm.reset(); // Clear form fields
            // checkFormValidity(); // Reset button state
        });

        // Initialize form state on page load
        document.addEventListener('DOMContentLoaded', function() {
            checkFormValidity(); // Set initial button state
            // Ensure game is hidden and form is shown initially
            gameContainer.style.display = 'none';
            registrationFormContainer.style.display = 'flex';
        });
    </script>
</body>
</html>
